@startuml
!include plantuml.skin

package "JWT Token Handling" {

  package "Main Entry Point" {
    [TokenValidator]
  }

  package "Validation Pipelines" {
    [AccessTokenValidationPipeline]
    [IdTokenValidationPipeline]
    [RefreshTokenValidationPipeline]
  }

  package "Pipeline Components" {
  }

  package "Configuration" {
  }

  package "Key Management" {
  }

  package "Monitoring & Security" {
  }

  package "Token Content" {
  }

  ' Main entry point to pipelines
  [TokenValidator] ..> [AccessTokenValidationPipeline]
  [TokenValidator] ..> [IdTokenValidationPipeline]
  [TokenValidator] ..> [RefreshTokenValidationPipeline]

  ' Pipelines to other packages
  [AccessTokenValidationPipeline] ..> "Pipeline Components"
  [IdTokenValidationPipeline] ..> "Pipeline Components"
  [RefreshTokenValidationPipeline] ..> "Pipeline Components"

  [TokenValidator] ..> "Configuration"
  "Pipeline Components" ..> "Configuration"
  "Pipeline Components" ..> "Key Management"
  [TokenValidator] ..> "Monitoring & Security"
  [AccessTokenValidationPipeline] ..> "Monitoring & Security"
  "Pipeline Components" ..> "Token Content"
}
@enduml
